<ov-videoconference
	*ngIf="success"
	[participantName]="_participantName"
	[tokens]="_tokens"
	[minimal]="_minimal"
	[prejoin]="_prejoin"
	[videoMuted]="_videoMuted"
	[audioMuted]="_audioMuted"
	[toolbarScreenshareButton]="_toolbarScreenshareButton"
	[toolbarRecordingButton]="_toolbarRecordingButton"
	[toolbarFullscreenButton]="_toolbarFullscreenButton"
	[toolbarBackgroundEffectsButton]="_toolbarBackgroundEffectsButton"
	[toolbarSettingsButton]="_toolbarSettingsButton"
	[toolbarLeaveButton]="_toolbarLeaveButton"
	[toolbarActivitiesPanelButton]="_toolbarActivitiesPanelButton"
	[toolbarChatPanelButton]="_toolbarChatPanelButton"
	[toolbarParticipantsPanelButton]="_toolbarParticipantsPanelButton"
	[toolbarDisplayLogo]="_toolbarDisplayLogo"
	[toolbarDisplaySessionName]="_toolbarDisplaySessionName"
	[toolbarCaptionsButton]="_toolbarCaptionsButton"
	[streamDisplayParticipantName]="_streamDisplayParticipantName"
	[streamDisplayAudioDetection]="_streamDisplayAudioDetection"
	[streamSettingsButton]="_streamSettingsButton"
	[participantPanelItemMuteButton]="_participantPanelItemMuteButton"
	[activitiesPanelRecordingActivity]="_activitiesPanelRecordingActivity"
	[recordingActivityRecordingsList]="_recordingActivityRecordingsList"
	[recordingActivityRecordingError]="_recordingActivityRecordingError"
	(onJoinButtonClicked)="_onJoinButtonClicked()"
	(onToolbarLeaveButtonClicked)="_onToolbarLeaveButtonClicked()"
	(onToolbarCameraButtonClicked)="_onToolbarCameraButtonClicked()"
	(onToolbarMicrophoneButtonClicked)="_onToolbarMicrophoneButtonClicked()"
	(onToolbarScreenshareButtonClicked)="_onToolbarScreenshareButtonClicked()"
	(onToolbarParticipantsPanelButtonClicked)="_onToolbarParticipantsPanelButtonClicked()"
	(onToolbarChatPanelButtonClicked)="_onToolbarChatPanelButtonClicked()"
	(onToolbarActivitiesPanelButtonClicked)="_onToolbarActivitiesPanelButtonClicked()"
	(onToolbarFullscreenButtonClicked)="_onToolbarFullscreenButtonClicked()"
	(onToolbarStartRecordingClicked)="onStartRecordingClicked('toolbar')"
	(onToolbarStopRecordingClicked)="onStopRecordingClicked('toolbar')"
	(onActivitiesPanelStartRecordingClicked)="onStartRecordingClicked('panel')"
	(onActivitiesPanelStopRecordingClicked)="onStopRecordingClicked('panel')"
	(onActivitiesPanelDownloadRecordingClicked)="_onActivitiesDownloadRecordingClicked($event)"
	(onActivitiesPanelDeleteRecordingClicked)="_onActivitiesDeleteRecordingClicked($event)"
	(onSessionCreated)="_onSessionCreated($event)"
	(onParticipantCreated)="_onParticipantCreated($event)"
>
<div *ovChatPanel id="my-panel" class="chat-container">
	<div class="sigmaHeaderChat">
		<div class="sigma-header-chat">
			<h2>Chat</h2>
		</div>
	</div>
	<form id="sigma-form" class="sigma-form" onsubmit="event.preventDefault();">
		<div class="sigma-messages" style="height: 405px;">
			<div *ngFor="let msg of messages" [ngClass]="{'sigma-assistent-message': msg.system}">
				<div *ngIf="msg.attachment">
					<div [ngClass]="msg.system ? 'sigma-message-incoming' : 'sigma-message-outcoming'">
						<p [ngClass]="msg.system ? 'sigma-message-incoming-name' : 'sigma-message-outcoming-name'">
							{{msg.name}}</p>
						<img class='sigma-image' src="{{ getImage(msg.attachment) }}" alt="{{msg.text}}"
							[ngClass]="msg.system ? 'sigma-message-incoming-attachment' : 'sigma-message-outcoming-attachment'">
						<a [ngClass]="msg.system ? 'sigma-message-incoming-download' : 'sigma-message-outcoming-download'"
							href="{{msg.attachment}}" target="_blank" downlaod>
							<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
								class="bi bi-download" viewBox="0 0 16 16">
								<path
									d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z" />
								<path
									d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z" />
							</svg>
							Download
						</a>
						<p class="sigma-message-${direction}-time-attachment"> {{ msg.time }}</p>
					</div>
				</div>
				<div *ngIf="!msg.attachment" [ngClass]="msg.system ? 'sigma-message-incoming' : 'sigma-message-outcoming'">
					<p [ngClass]="msg.system ? 'sigma-message-incoming-name' : 'sigma-message-outcoming-name'">
						{{msg.name}}: </p>
					<p [ngClass]="msg.system ? 'sigma-message-incoming-text' : 'sigma-message-outcoming-text'">
						{{msg.message}} </p>
					<div class="sigma-time">
						<p
							[ngClass]="msg.system ? 'sigma-message-incoming-time' : 'sigma-message-outcoming-time'">
							{{msg.time}}
							<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
								class="bi bi-clock" viewBox="0 0 16 16" style="display: none;">
								<path
									d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z">
								</path>
								<path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z">
								</path>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
								class="bi bi-check" viewBox="0 0 16 16" style="display: none;">
								<path
									d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z">
								</path>
							</svg>
							<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor"
								class="bi bi-check-all" viewBox="0 0 16 16" style="display: none;">
								<path
									d="M8.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L2.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093L8.95 4.992a.252.252 0 0 1 .02-.022zm-.92 5.14.92.92a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 1 0-1.091-1.028L9.477 9.417l-.485-.486-.943 1.179z">
								</path>
							</svg>
						</p>
					</div>
				</div>
			</div>
		</div>
		<div class="sigma-component-send-message"><label class="sigma-label-attachment"><svg
					xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
					class="bi bi-paperclip" viewBox="0 0 16 16">
					<path
						d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0V3z">
					</path>
				</svg></label><input class="sigma-input" type="file" name="file" id="sigma-file-msg"
				style="display: block;" (change)="changed()"><input class="sigma-input" type="text" name="message"
				placeholder="Digite sua menssagem aqui..." autocomplete="off" id="sigma-input-msg" value=""
				style="margin-left: 0.5rem;">
			<div class="sigma-send-message">
				<div><button class="sigma-btn" type="submit" (click)="send()">Enviar</button></div>
			</div>
		</div>
	</form>
</div>
</ov-videoconference>
